<ion-view title="Sign up" id="createVerifyUsePage">
    <ion-content padding="true" class="has-header">
   <div padding="true" class="manual-ios-statusbar-padding">
        <!--&lt;!&ndash;TODO: highlight these guys depending on the tab variable or delete them&ndash;&gt;-->
        <!--<div id="createVerifyUse-button-bar1" class="button-bar">-->
            <!--<button id="createVerifyUse-button3" class="button button-positive  button-block">Create</button>-->
            <!--<button id="createVerifyUse-button4" class="button button-positive  button-block">Verify</button>-->
            <!--<button id="createVerifyUse-button5" class="button button-positive  button-block">Use</button>-->
        <!--</div>-->
        <div ng-if="tab == 'CREATE_PASSWORD'">
           <p>
            Please enter a secure password to create your account.
           </p>
           <div class="list">
           <form name="setPasswordForm" ng-submit="setPassword()">
                <label class="item item-input item-stacked-label" id="setPasswordForm-password">
                    <span class="input-label">Password</span>
                    <input type="password" name="passwordEnter" ng-model="password.enter" placeholder="********">
                </label>
                <label class="item item-input item-stacked-label" id="setPasswordForm-confirmPassword">
                    <span class="input-label">Confirm </span>
                    <input type="password" name="passwordConfirm" ng-model="password.confirm" placeholder="********">
                </label>
                <button id="setPasswordButton" type="submit" class="button button-positive button-block">
                    Set Password
                </button>
            </form>
            </div>
        </div>
        <div ng-if="tab == 'ACCOUNT_CREATED'">
            <div>
                <p>Account created. Your new address is:</p>
                <p><b>{{publicAddress}}</b></p>
                <p>Your 15 word recovery phrase is:</p>
                <h6>{{recoveryPhrase}}</h6>
                <p>You need to verify your ID to start sending money.</p>
           </div>
            <form name="confirmDetailsForm">
                <button id="confirmDetailsButton"
                        type="submit"
                        class="button button-positive button-block"
                        ng-click="confirmDetails()">
                    Mobiil-ID
                </button>
                <button id="verifyCardButton"
                        type="submit"
                        class="button button-positive button-block"
                        ng-click="showVerifyCard()">
                    ID Card
                </button>
                <button id="verifyBankButton"
                        type="submit"
                        class="button button-positive button-block"
                        ng-click="showVerifyBank()">
                    Bank Transfer
                </button>
            </form>
        </div>
        <div ng-if="tab == 'VERIFY'">
            <div id="createVerifyUse-container1">
                <form id="createVerifyUse-verifyMobile" class="list" ng-submit="verifyMobileId()">
                    <p>
                        Verify with Mobile ID
                    </p>
                    <label class="item item-input" id="createVerifyUse-input3">
                        <span class="input-label">Phone</span>
                        <input type="tel" ng-model="mobileId.phoneNumber" placeholder="+372 123 4567">
                    </label>
                    <button id="createVerifyUse-button6" class="button button-positive  button-block">Verify</button>
                </form>
                <div ng-if="processing">
                     <ion-card>
                       Check your mobile with code: {{mobileIdChallengeCode}}
                     </ion-card>
                </div>
            </div>
        </div>
        <div ng-if="tab == 'VERIFY_CARD'">
            <div id="createVerifyUse-container1">
                <form id="createVerifyUse-verifyCard" class="list" ng-submit="verifyCard();">
                    <p>
                        Verify with Estonian ID Card. Have the card ready in the reader.
                    </p>
                    <label class="item item-input" id="createVerifyUse-input3">
                        <span class="input-label">Phone (optional)</span>
                        <input type="tel" ng-model="mobileId.phoneNumber" placeholder="+372 123 4567">
                    </label>
                    <button id="createVerifyUse-button" ng-disabled="processing" class="button button-positive  button-block">Verify</button>
                </form>
                <div class="card" ng-if="processing">
                   <div class="item item-icon-left item-text-wrap">
                   <i class="icon ion-clock"></i>
                    Sent request, waiting for response ...
                   </div>
                </div>
            </div>
        </div>
        <div ng-if="tab == 'VERIFY_BANK'">
            <div id="createVerifyUse-markdown3" style="color:#000000;">
                <div class="card">
                   <div class="item item-text-wrap">
			Verify by bank transfer from an Estonian bank account. Only personal bank accounts work.
                   </div>
                </div>
                <br>
                NOT IMPLEMENTED!
                <br>
                <br>
                <div>Name: Euro 2.0 Reserve</div>
                <div>Account: EE087700771001615943</div>
                <div>Reference: {{}} TBC</div>
                <form id="createVerifyUse-verifyBank" class="list" ng-submit="verifyBank()">
                    <button id="createVerifyUse-button7" class="button button-positive  button-block">I made a bank Transfer</button>
                </form>
            </div>
        </div>
        <div ng-if="tab == 'USE'">
            <p>Everything is good!</p>
            <p ng-if="idNumber">You're Estonian id number is {{idNumber}}<br></p>
            <p>You are ready to send Euro 2.0!</p>
            <form id="createVerifyUse-finish" class="list" ng-submit="finish()">
                <button id="createVerifyUse-finishButton" class="button button-positive  button-block">Start!</button>
            </form>
        </div>
    </div>
   </ion-content>
</ion-view>
